.relative.inline-flex{"data-controller" => "dropdown"}
  .inline-flex.justify-center.items-center.group.select-none{"data-action" => "click->dropdown#toggle click@window->dropdown#hide", "data-dropdown-target" => "button", :role => "button", :tabindex => "0"}
    = render(AvatarComponent.new(user: current_user))
    %svg.w-3.h-3.flex-shrink-0.ml-2.fill-current.text-gray-400{:viewbox => "0 0 12 12"}
      %path{:d => "M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"}
  .z-10.absolute.top-full.right-0.mt-2.w-44.hidden{"data-dropdown-target" => "menu"}
    .bg-white.border.border-gray-200.rounded.shadow-lg.overflow-hidden.py-1
      .pb-2.px-3.mb-1.border-b.border-gray-200{:class => "pt-0.5"}
        .text-gray-800= current_user.name
        - if current_user.admin?
          .text-xs.text-gray-500.italic Administrator
      %ul
        %li= link_to "API tokens", api_tokens_path, class: 'font-medium text-sm text-indigo-500 hover:text-indigo-600 flex items-center py-1 px-3'
        %li= button_to "Sign Out", destroy_user_session_path, method: :delete, class: 'font-medium text-sm text-indigo-500 hover:text-indigo-600 flex items-center py-1 px-3', data: { type: 'html', turbo: false }

      %hr.border-t.border-gray-200.my-1
      %span.text-xs.uppercase.text-gray-500.font-semibold.pl-3 System
      %ul
        - if policy(PaperTrail::Version).index?
          %li= link_to "Audit log", versions_path, class: 'font-medium text-sm text-indigo-500 hover:text-indigo-600 flex items-center py-1 px-3'
        %li= link_to "Operating systems", operating_systems_path, class: 'font-medium text-sm text-indigo-500 hover:text-indigo-600 flex items-center py-1 px-3'